<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" >
<head>
    <meta charset="UTF-8">
    <title th:text="${userModel.title}">Title</title>
    <link rel="stylesheet" href="/layui/css/layui.css">
    <link rel="stylesheet" href="/uimaker/css/common.css">
    <style>
        .layui-form-switch {
            margin-top: 7px;
        }
    </style>
</head>
<body>

<div style="margin: 15px;">
    <div th:replace="server_web/header :: header">...</div>
    <div class="layui-elem-quote">
        <h3 th:text="${userModel.title}"></h3>
    </div>

    <form class="layui-form layui-main site-inline" action="" style="margin-top: 30px;">
        <div class="layui-form-item">
            <label class="layui-form-label">登录账号</label>
            <div class="layui-input-block">
                <input type="text" name="loginaccount" id="loginaccount"   lay-verify="required" placeholder="请输入登录账号" autocomplete="off" class="layui-input">
            </div>
        </div>

        <div class="layui-form-item">
            <label class="layui-form-label">用户名称</label>
            <div class="layui-input-block">
                <input type="text" name="username" id="username" required  lay-verify="required" placeholder="请输入用户名称" autocomplete="off" class="layui-input">
            </div>
        </div>


        <div class="layui-form-item">
            <label class="layui-form-label">密码</label>
            <div class="layui-input-block">
                <input type="text" name="password" id="password" required  lay-verify="required" placeholder="请输入密码" autocomplete="off" class="layui-input">
            </div>
        </div>


        <div class="layui-form-item" th:if="${userModel.ssid}==null">
            <label class="layui-form-label">确认密码</label>
            <div class="layui-input-block">
                <input type="text" name="password_again" id="password_again" required  lay-verify="required" placeholder="请输入密码" autocomplete="off" class="layui-input">
            </div>
        </div>

        <div class="layui-form-item">
            <label class="layui-form-label">工作单位</label>
            <div class="layui-input-block">
                <select name="workunitssid" id="workunitssid">
                    <option value="">请选择工作单位</option>
                </select>
            </div>
        </div>


        <div class="layui-form-item">
            <label class="layui-form-label">用户角色</label>
            <div class="layui-input-block" id="rolessid_checkbox">
               <!-- <input type="checkbox" name="like[write]" title="写作">-->
            </div>
        </div>

        <div class="layui-form-item layui-form-text">
            <label class="layui-form-label">用户状态</label>
            <div class="layui-input-block">
                <input type="checkbox" id="adminbool"  name="adminbool" lay-skin="switch" lay-text="正常|禁用" checked>
            </div>
        </div>
        <div class="layui-form-item">
            <div class="layui-input-block">
                <input type="button"  class="layui-btn layui-btn-normal" onclick="addOrUpdateUser();" value="保存" />
                <button class="layui-btn layui-btn-normal" onclick="javascript:window.history.go(-1);return false;">返回</button>
            </div>
        </div>
    </form>


</div>

<div th:replace="server_web/footer :: footer">...</div>


</body>
<script th:src="@{/js/jquery-1.11.1.js}" type="text/javascript"></script>
<script th:src="@{/layui/layui.js}"></script>
<script th:src="@{/js/common.js}"></script>
<script th:src="@{/js/actionid.js}" type="text/javascript"></script>
<script th:src="@{/js/policevo/addOrUpdateUser.js}" type="text/javascript"></script>
<script  th:inline="javascript">
    var ssid=null;
    var INIT_WEB=null;
    $(function(){
        INIT_WEB=[[${session.INIT_WEB}]];
        setpageAction(INIT_WEB,"server_web/police/users/addOrUpdateUser");
        ssid=[[${userModel.ssid}]];
        getWorkunits();
        getRoles();
        if (isNotEmpty(ssid)) {
            getUserBySsid(ssid);
        }
    });
    layui.use('form', function(){
        var form =  layui.form;
        form.render();
    });
</script>
</html>