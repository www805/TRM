<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" >
<head>
    <meta charset="UTF-8">
    <title th:text="${userModel.title}">Title</title>
    <link rel="stylesheet" href="/layui/css/layui.css">
    <link rel="stylesheet" href="/uimaker/css/common.css">

    <script th:src="@{/js/jquery-1.11.1.js}" type="text/javascript"></script>
    <script src="/layui/layui.js"></script>
    <script th:src="@{/layui/lay/modules/laytpl.js}" type="text/javascript"></script>
    <script type="text/javascript" th:src="@{/js/common.js}"></script>
    <script th:src="@{/js/actionid.js}" type="text/javascript"></script>
    <script th:src="@{/js/list.js}" type="text/javascript"></script>
    <script th:src="@{/js/policevo/getUserList.js}" type="text/javascript"></script>
    <script th:inline="javascript">
        $(function(){
            setpageAction([[${session.INIT_WEB}]],"police/users/getUserList");
            getUserListByParam();
        });
    </script>
</head>
<body>
<div style="margin: 15px;" class="layui-form">

    <div class="layui-elem-quote">
        <h3 th:text="${userModel.title}"></h3>
    </div>

    <form class="layui-form" action="">
        <div class="layui-form-item">
            <label class="layui-form-label" style="width: auto;">用户名称</label>
            <div class="layui-input-inline">
                <input type="text" name="username" id="username"   placeholder="请输入用户名称" autocomplete="off" class="layui-input">
            </div>

            <label class="layui-form-label" style="width: auto;">登陆账号</label>
            <div class="layui-input-inline">
                <input type="text" name="loginaccount" id="loginaccount"  placeholder="请输入登陆账号" autocomplete="off" class="layui-input">
            </div>

            <label class="layui-form-label" style="width: auto;">用户角色</label>
            <div class="layui-input-inline">
                <select name="rolessid" id="rolessid">
                    <option value="">请选择角色</option>
                </select>
            </div>

            <label class="layui-form-label" style="width: auto;">工作单位</label>
            <div class="layui-input-inline">
                <select name="workunitssid" id="workunitssid">
                    <option value="">请选择工作单位</option>
                </select>
            </div>

            <label class="layui-form-label" style="width: auto;">用户状态</label>
            <div class="layui-input-inline">
                <select name="adminbool" id="adminbool">
                    <option value="">请选择用户状态</option>
                    <option value="1">正常</option>
                    <option value="2">禁用</option>
                </select>
            </div>

            <input type="button" class="layui-btn layui-btn-normal" onclick="getUserList_init(1,3);" value="查询"/>
            <a th:href="@{/web/user/getAddUser}" class="layui-btn layui-btn-normal" >添加用户</a>
        </div>
    </form>



    <div th:replace="page :: page">...</div>

    <div th:replace="footer :: footer">...</div>

</div>
</body>
<script id="pagelisttemplates" type="text/html">

    <table class="layui-table"  >
        <thead>
        <tr>
            <th>序号</th>
            <th>用户状态</th>
            <th>登陆账号</th>
            <th>用户名称</th>
            <th>所属角色</th>
            <th>工作单位</th>
            <th>注册时间</th>
            <th>最后登录时间</th>
            <th>操作</th>
        </tr>
        </thead>
        <tbody id="pagelisttemplates_tbody">

        {{#  layui.each(pagelist, function(index, value){ }}
        <tr>
            <td>{{index+1}}</td>
            <td> <input type="checkbox" name="switch" id="adminbool_switch" lay-skin="switch" lay-text="正常|禁用"   checked></td>
            <td>{{value.loginaccount==null?"":value.loginaccount}}</td>
            <td>{{value.username==null?"":value.username}}</td>
            <td>
                {{# var valueroles=value.roles;var roles=""; if(isNotEmpty(valueroles)){ }}
                {{# for (var j = 0; j < valueroles.length; j++) { var rs=valueroles[j];roles+=rs.rolename+"、";} }}
                {{# } }}
                {{roles}}
            </td>
            <td>{{value.workname==null?"":value.workname}}</td>
            <td>{{value.registertime==null?"":value.registertime}}</td>
            <td>{{value.lastlogintime==null?"":value.lastlogintime}}</td>
            <td>
                <a href="/web/user/getUpdateUser/{{value.id}}" class="layui-btn layui-btn-normal layui-btn-sm">修改</a>
                <a href="http://www.layui.com" class="layui-btn layui-btn-danger layui-btn-sm">删除</a>
            </td>
        </tr>
        {{#  }); }}
        <!--{{#  layui.use('form', function(){ }}-->
        <!--{{#    var form = layui.form; }}-->
        <!--{{#    form.render();});  }}-->
        </tbody>
    </table>

</script>
</html>